---
const servicios = [
  {
    icon: "bolt",
    title: "Servicios Eléctricos",
    desc: "Instalaciones seguras, eficientes y detalladas con sistemas completos y pozos a tierra.",
    link: "#detalle-servicio1",
  },
  {
    icon: "hard-hat",
    title: "Drywall y Cielo Raso",
    desc: "Divisiones modernas y techos estéticos con excelente presentación y funcionalidad.",
    link: "#detalle-servicio2",
  },
  {
    icon: "door-open",
    title: "Estructuras Metálicas",
    desc: "Fabricación de techos, puertas y portones metálicos con estilo y seguridad.",
    link: "#detalle-servicio3",
  },
  {
    icon: "paint-roller",
    title: "Pintura y Acabados",
    desc: "Acabados finos, murales y decoración en melamina o drywall que transforman espacios.",
    link: "#detalle-servicio4",
  },
  {
    icon: "th-large",
    title: "Instalación de Pisos",
    desc: "Pisos vinílicos resistentes y decorativos que combinan elegancia y practicidad.",
    link: "#detalle-servicio5",
  },
];
---

<section
  class="bg-gradient-to-b from-gray-50 to-gray-100 py-20 px-6"
  id="servicios"
>
  <div class="max-w-7xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-extrabold text-blue-900 mb-6">
      Nuestros Servicios
    </h2>
    <p class="text-gray-600 text-lg md:text-xl mb-10 max-w-2xl mx-auto">
      En <strong>VALDISER</strong> brindamos soluciones en instalaciones, estructuras
      y acabados con calidad, diseño y eficiencia.
    </p>

    <div class="relative overflow-hidden">
      <!-- Carrusel -->
      <button id="prevBtn"
        class="absolute left-0 top-1/2 -translate-y-1/ h-9 bg-blue-700 text-white px-3 rounded-full shadow-md hover:bg-blue-800 z-10">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div id="carousel" class="mx-12 flex gap-6 overflow-hidden scroll-smooth">
        {
          servicios.map((servicio) => (
            <div class="min-w-[180px] w-[400px] bg-white p-6 rounded-3xl shadow-md text-center flex-shrink-0">
              <div class="text-blue-800 text-5xl mb-3">
                <i class={`fas fa-${servicio.icon}`} />
              </div>
              <h5 class="text-lg font-semibold text-blue-700 mb-2 uppercase">
                {servicio.title}
              </h5>
              <p class="text-gray-700 text-sm mb-4">{servicio.desc}</p>
              <!-- <a
                href={servicio.link}
                class="inline-block bg-blue-700 text-white px-4 py-2 rounded-full text-sm hover:bg-blue-800 transition"
              >
                Ver más
              </a> -->
            </div>
          ))
        }
      </div>
      <!-- Botones Flechas -->
      <button
        id="nextBtn"
        class="absolute right-0 top-1/2 -translate-y-1/2 bg-blue-700 text-white h-9 px-3 rounded-full shadow-md hover:bg-blue-800 z-10"
      >
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>

<!-- Script funcional para Astro -->
<script>
  window.addEventListener("DOMContentLoaded", () => {
    const carousel = document.getElementById("carousel");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const cardWidth = 296; // Aprox. tamaño tarjeta + gap

    if (nextBtn && carousel) {
      nextBtn.addEventListener("click", () => {
        carousel.scrollLeft += cardWidth;
      });
    }

    if (prevBtn && carousel) {
      prevBtn.addEventListener("click", () => {
        carousel.scrollLeft -= cardWidth;
      });
    }
  });
</script>
